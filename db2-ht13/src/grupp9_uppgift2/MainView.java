package grupp9_uppgift2;

import javax.swing.table.TableModel;

/**
 *
 * @author Joel
 */
public class MainView extends javax.swing.JFrame {

    Controller controller;

    /**
     * Creates new form MainView
     *
     * @param controller Handler communication with DataAccessLayer
     */
    public MainView(Controller controller) {
        this.controller = controller;
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jTabbedPane = new javax.swing.JTabbedPane();
        jPanel1 = new javax.swing.JPanel();
        btnUpdateTable2A = new javax.swing.JButton();
        comboListQuerySelector2A = new javax.swing.JComboBox();
        jScrollPaneResults2A = new javax.swing.JScrollPane();
        tblListResults2A = new javax.swing.JTable();
        jPanel2 = new javax.swing.JPanel();
        comboListQuerySelector2B = new javax.swing.JComboBox();
        btnUpdateTable2B = new javax.swing.JButton();
        jScrollPaneResults2B = new javax.swing.JScrollPane();
        tblListResults2B = new javax.swing.JTable();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Cronus Database Browser");

        btnUpdateTable2A.setText("Updatera");
        btnUpdateTable2A.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUpdateTable2AActionPerformed(evt);
            }
        });

        comboListQuerySelector2A.setMaximumRowCount(10);
        comboListQuerySelector2A.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Anställda", "Frånvaro", "Kvalifikationer", "Metadata för tabellerna" }));

        tblListResults2A.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        jScrollPaneResults2A.setViewportView(tblListResults2A);

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(comboListQuerySelector2A, javax.swing.GroupLayout.PREFERRED_SIZE, 316, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnUpdateTable2A, javax.swing.GroupLayout.PREFERRED_SIZE, 121, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(514, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(jScrollPaneResults2A, javax.swing.GroupLayout.DEFAULT_SIZE, 947, Short.MAX_VALUE)
                    .addContainerGap()))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(comboListQuerySelector2A, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnUpdateTable2A))
                .addContainerGap(511, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(46, 46, 46)
                    .addComponent(jScrollPaneResults2A, javax.swing.GroupLayout.PREFERRED_SIZE, 488, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );

        jTabbedPane.addTab("Uppgift 2A", jPanel1);

        comboListQuerySelector2B.setMaximumRowCount(10);
        comboListQuerySelector2B.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "CRONUS Employee Columns 1", "CRONUS Employee Columns 2", "CRONUS Keys", "CRONUS Indexes", "CRONUS Constraints", "CRONUS Tables 1", "CRONUS Tables 2", "CRONUS Table with most rows" }));

        btnUpdateTable2B.setText("Updatera");
        btnUpdateTable2B.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnUpdateTable2BActionPerformed(evt);
            }
        });

        tblListResults2B.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        jScrollPaneResults2B.setViewportView(tblListResults2B);

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPaneResults2B, javax.swing.GroupLayout.DEFAULT_SIZE, 947, Short.MAX_VALUE)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(comboListQuerySelector2B, javax.swing.GroupLayout.PREFERRED_SIZE, 316, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnUpdateTable2B, javax.swing.GroupLayout.PREFERRED_SIZE, 121, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(comboListQuerySelector2B, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnUpdateTable2B))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPaneResults2B, javax.swing.GroupLayout.PREFERRED_SIZE, 489, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jTabbedPane.addTab("Uppgift 2B", jPanel2);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jTabbedPane)
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jTabbedPane)
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnUpdateTable2BActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUpdateTable2BActionPerformed

        int comboIndex = this.comboListQuerySelector2B.getSelectedIndex();
        TableModel tm;
        //Inget valt

        switch (comboIndex) {

            case 0:
                //CRONUS Employee Columns1
                tm = controller.getCronusEmployeeColumns1();
                this.tblListResults2B.setModel(tm);
                break;
            case 1:
                //CRONUS Employee Columns2
                tm = controller.getCronusEmployeeColumns2();
                this.tblListResults2B.setModel(tm);
                break;
            case 2:
                //CRONUS Keys
                tm = controller.getCronusKeys();
                this.tblListResults2B.setModel(tm);
                break;
            case 3:
                //CRONUS Indexes
                tm = controller.getCronusIndexes();
                this.tblListResults2B.setModel(tm);
                break;
            case 4:
                //CRONUS Constraints
                tm = controller.getCronusConstraints();
                this.tblListResults2B.setModel(tm);
                break;
            case 5:
                //CRONUS Tables1
                tm = controller.getCronusTables1();
                this.tblListResults2B.setModel(tm);
                break;
            case 6:
                //CRONUS Tables2
                tm = controller.getCronusTables2();
                this.tblListResults2B.setModel(tm);
                break;
            case 7:
                //CRONUS Tables
                tm = controller.getCronusTableWithMostRows();
                this.tblListResults2B.setModel(tm);
                break;
            default:
                System.out.println("Combobox inoput out of switch range");
        }

    }//GEN-LAST:event_btnUpdateTable2BActionPerformed

    private void btnUpdateTable2AActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnUpdateTable2AActionPerformed

        int comboIndex = this.comboListQuerySelector2A.getSelectedIndex();

        TableModel tm;
        //Inget valt

        switch (comboIndex) {

            case 0:
                //CRONUS Employees
                tm = controller.getCronusEmployees();
                this.tblListResults2A.setModel(tm);
                break;
            case 1:
                //CRONUS Absence
                tm = controller.getCronusEmployeeAbsence();
                this.tblListResults2A.setModel(tm);
                break;
            case 2:
                //CRONUS Employee Qualifications
                tm = controller.getCronusEmployeeQualifications();
                this.tblListResults2A.setModel(tm);
                break;
            case 3:
                //CRONUS Metadata
                tm = controller.getCronusEmployeeMetaData();
                this.tblListResults2A.setModel(tm);
                this.tblListResults2A.getColumnModel().getColumn(0).setPreferredWidth(250);
                this.tblListResults2A.getColumnModel().getColumn(1).setPreferredWidth(150);
                this.tblListResults2A.getColumnModel().getColumn(6).setPreferredWidth(150);
                break;
            default:
                System.out.println("Combobox inoput out of switch range");
        }// TODO add your handling code here:
    }//GEN-LAST:event_btnUpdateTable2AActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnUpdateTable2A;
    private javax.swing.JButton btnUpdateTable2B;
    private javax.swing.JComboBox comboListQuerySelector2A;
    private javax.swing.JComboBox comboListQuerySelector2B;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JScrollPane jScrollPaneResults2A;
    private javax.swing.JScrollPane jScrollPaneResults2B;
    private javax.swing.JTabbedPane jTabbedPane;
    private javax.swing.JTable tblListResults2A;
    private javax.swing.JTable tblListResults2B;
    // End of variables declaration//GEN-END:variables
}
